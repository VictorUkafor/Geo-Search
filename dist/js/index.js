"use strict";const submit=document.querySelector(".search-button");input.addEventListener("input",()=>{const e=input.value.trim();if(e){clearIcon.style.display="none";const t=new URLSearchParams(window.location.search);t.set("search",e);const s=`${window.location.pathname}?${t.toString()}`;history.pushState(null,"",s),e.length>50?(submit.setAttribute("disabled","disabled"),submit.classList.add("no-text"),messageDiv.innerHTML='<p id="error">You\'ve\n             exceeded the 50 characters limit</p>'):e.includes(",")?(submit.removeAttribute("disabled"),submit.classList.remove("no-text"),messageDiv.innerHTML=""):(submit.removeAttribute("disabled"),submit.classList.remove("no-text"),messageDiv.innerHTML='<p id="warning">For best \n            search result enter two related places separated \n            by a comma. e.g Lagos, Nigeria</p>')}else submit.setAttribute("disabled","disabled"),submit.classList.add("no-text")}),form.addEventListener("submit",e=>{e.preventDefault(),placeSearch(input.value.trim())}),input.addEventListener("blur",()=>{input.value&&(clearIcon.style.display="block")}),clearIcon.addEventListener("click",()=>{input.value="",clearIcon.style.display="none"}),window.addEventListener("DOMContentLoaded",()=>{const e=new URLSearchParams(window.location.search).get("search");e?e.length>50?(submit.setAttribute("disabled","disabled"),submit.classList.add("no-text"),messageDiv.innerHTML='<p id="error">You\'ve exceeded \n            the 50 characters limit</p>'):(submit.removeAttribute("disabled"),submit.classList.remove("no-text"),messageDiv.innerHTML="",placeSearch(e)):input.value.trim()?(submit.removeAttribute("disabled"),submit.classList.remove("no-text")):(submit.setAttribute("disabled","disabled"),submit.classList.add("no-text"))});