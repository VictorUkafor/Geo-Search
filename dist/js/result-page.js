"use strict";var notFound=document.createElement("div"),placeTitle=document.createElement("h1"),result=document.createElement("div"),largeImage=document.createElement("div"),loader=document.createElement("div"),input=document.querySelector(".search-field"),messageDiv=document.querySelector(".message"),changeTemp=function(n){var e=document.querySelector(".temp-item"),a=document.querySelector("#temp-button");if(localStorage.getItem("tempUnit"))if("F"===localStorage.getItem("tempUnit")){var t=((localStorage.getItem("tempValue")-32)*(5/9)).toFixed(2);localStorage.setItem("tempUnit","C"),localStorage.setItem("tempValue",t),e.innerHTML='<i class="fa fa-circle condition-symbol"></i>\n        <span class="condition-name">Temperature:</span>\n        <span class="condition-value">'.concat(localStorage.getItem("tempValue"),'\n        <span class="condition-unit">\n        &#176;C</span></span>'),a.innerHTML='<i class="fa fa-thermometer thermo"></i>\n        <span class="thermo-span">Convert &#176C to &#176F</span>'}else{var o=(1.8*localStorage.getItem("tempValue")+32).toFixed(2);localStorage.setItem("tempUnit","F"),localStorage.setItem("tempValue",o),e.innerHTML='<i class="fa fa-circle condition-symbol"></i>\n        <span class="condition-name">Temperature:</span>\n        <span class="condition-value">'.concat(localStorage.getItem("tempValue"),'\n        <span class="condition-unit">\n        &#176;F</span></span>'),a.innerHTML='<i class="fa fa-thermometer thermo"></i>\n        <span class="thermo-span">Convert &#176F to &#176C</span>'}else{localStorage.setItem("tempUnit","C");var i=(n-273.15).toFixed(2);localStorage.setItem("tempValue",i),e.innerHTML='<i class="fa fa-circle condition-symbol"></i>\n        <span class="condition-name">Temperature:</span>\n        <span class="condition-value">'.concat(localStorage.getItem("tempValue"),'\n        <span class="condition-unit">\n        &#176;C</span></span>'),a.innerHTML='<i class="fa fa-thermometer thermo"></i>\n        <span class="thermo-span">Convert &#176C to &#176F</span>'}},switchMap=function(n,e){var a=document.querySelector("#switch-button"),t=document.querySelector(".result-map");if("map"!==localStorage.getItem("mapType")&&localStorage.getItem("mapType")){localStorage.setItem("mapType","map"),localStorage.setItem("mapNext","Earth");var o="https://www.mapquestapi.com/staticmap/v5/map?key=IvNAwSUNmSxFBKN37pVED3RuRscWNnGk&locations=".concat(n,",").concat(e,"&zoom=14&defaultMarker=marker-end&type=map");t.setAttribute("style","background-image: url('".concat(o,"');")),a.innerHTML='<i class="fa fa-toggle-on thermo"></i>\n        <span class="thermo-span">Switch to Earth View</span>'}else{localStorage.setItem("mapType","hyb"),localStorage.setItem("mapNext","Map");var i="https://www.mapquestapi.com/staticmap/v5/map?key=IvNAwSUNmSxFBKN37pVED3RuRscWNnGk&locations=".concat(n,",").concat(e,"&zoom=14&defaultMarker=marker-end&type=hyb");t.setAttribute("style","background-image: url('".concat(i,"');")),a.innerHTML='<i class="fa fa-toggle-off thermo"></i>\n        <span class="thermo-span">Switch to Map View</span>'}},displayLarge=function(n,e){largeImage.classList.add("large-image"),largeImage.innerHTML='<div class="back">\n    <i id="back-icon" class="fa fa-chevron-circle-left image-next"></i></div>\n    <div class="image" style="background-image:url('.concat(n,')"></div>\n    <div class="next"><i class="top fa fa-times image-next" onclick="removeLarge();"></i>\n    <i id="next-icon" class="bottom fa fa-chevron-circle-right image-next"></i></div>'),body.appendChild(largeImage),document.querySelector("#back-icon").addEventListener("click",(function(){backLarge(n,e)})),document.querySelector("#next-icon").addEventListener("click",(function(){nextLarge(n,e)})),body.removeChild(main),body.removeChild(footer)},removeLarge=function(){body.appendChild(main),body.removeChild(largeImage),body.appendChild(footer)},nextLarge=function(n,e){var a=e.indexOf(n),t=a>=e.length-1?0:a+1;displayLarge(e[t],e)},backLarge=function(n,e){var a=e.indexOf(n),t=0===a?e.length-1:a-1;displayLarge(e[t],e)},resultPage=function(n,e,a){section.removeChild(intro),section.removeChild(form),main.removeChild(features),section.classList.add("form-2"),placeTitle.classList.add("place-title"),placeTitle.innerHTML="<span>Postal Code: \n    ".concat(n.components.postcode?n.components.postcode:"Not Available",'\n    </span"><span class="right">Location: ').concat(n.formatted,"</span>"),main.appendChild(placeTitle),result.classList.add("result"),result.innerHTML='<div class="result-features">\n    <div class="weather-feature">\n    <div style="background-image: url(\'http://openweathermap.org/img/wn/'.concat(e.weather[0].icon,'@2x.png\');" class="weather-cloud"></div>\n\n    <div class="condition-box">\n    <p class="cloud-description">').concat(e.weather[0].description,'</p>\n    <ul>\n\n    <li class="temp-item"><i class="fa fa-circle condition-symbol"></i>\n    <span class="condition-name">Temperature:</span>\n    <span class="condition-value">\n    ').concat(localStorage.getItem("tempValue")||e.main.temp,'\n    <span class="condition-unit">&#176;').concat(localStorage.getItem("tempUnit")||"F",'</span></span></li>\n\n    <li><i class="fa fa-circle condition-symbol"></i>\n    <span class="condition-name">Pressure:</span>\n    <span class="condition-value">').concat(e.main.pressure,'\n    <span class="condition-unit">mb</span></span></li>\n\n    <li><i class="fa fa-circle condition-symbol"></i>\n    <span class="condition-name">Visibility:</span>\n    <span class="condition-value">').concat(e.visibility||"",'\n    <span class="condition-unit">').concat(e.visibility?"m":"N/A",'</span></span></li>\n\n    <li><i class="fa fa-circle condition-symbol"></i>\n    <span class="condition-name">Humidity:</span>\n    <span class="condition-value">').concat(e.main.humidity,'\n    <span class="condition-unit">%</span></span></li>\n\n    <li><i class="fa fa-circle condition-symbol"></i>\n    <span class="condition-name">Precipitation:</span>\n    <span class="condition-value">').concat(e.precipitation||"",'\n    <span class="condition-unit">').concat(e.precipitation?"mm":"N/A",'</span></span></li>\n\n    <li><i class="fa fa-circle condition-symbol"></i>\n    <span class="condition-name">Wind Speed:</span>\n    <span class="condition-value">').concat((2.237*e.wind.speed).toFixed(2),'\n    <span class="condition-unit">mi/hr</span></span></li>\n\n    <li><i class="fa fa-circle condition-symbol"></i>\n    <span class="condition-name">Wind Direction:</span>\n    <span class="condition-value">').concat(e.wind.deg||"",'\n    <span class="condition-unit">').concat(e.wind.deg?"&#176;":"N/A",'</span></span></li>\n\n    <li><i class="fa fa-circle condition-symbol"></i>\n    <span class="condition-name">Cloud Cover:</span>\n    <span class="condition-value">').concat(e.clouds.all||"",'\n    <span class="condition-unit">').concat(e.clouds.all?"":"N/A",'</span></span></li>\n\n    <li><i class="fa fa-circle condition-symbol"></i>\n    <span class="condition-name">Timezone:</span>\n    <span class="condition-value">').concat(1===Math.sign(e.timezone/3600)?"+":"").concat(e.timezone/3600,'\n    <span class="condition-unit">GMT</span></span></li>\n\n    </ul></div></div>\n\n    <div class="temp-feature">\n    <button id="temp-button" type="button" \n    onclick="changeTemp(\'').concat(e.main.temp,'\');">\n    <i class="fa fa-thermometer thermo"></i>\n    <span class="thermo-span">Convert \n    ').concat("C"===localStorage.getItem("tempUnit")?"&#176C to &#176F":"&#176F to &#176C",'\n    </span></button></div>\n\n    <div class="share-feature">\n    <button id="share-button" type="button">\n    <i class="fa fa-facebook thermo"></i>\n    <span class="thermo-span">Share to Facebook</span>\n    </button></div>\n\n    <div class="switch-feature" onclick="switchMap(\'').concat(n.geometry.lat,"', '").concat(n.geometry.lng,'\')">\n    <button id="switch-button" type="button">\n    <i class="fa ').concat("Earth"===localStorage.getItem("mapNext")?"fa-toggle-on":"fa-toggle-off",' thermo"></i>\n    <span class="thermo-span">Switch to ').concat(localStorage.getItem("mapNext")||"Earth",'  View</span>\n    </button></div>\n\n    </div>\n\n    <div class="result-map" style="background-image: \n    url(\'https://www.mapquestapi.com/staticmap/v5/map?key=IvNAwSUNmSxFBKN37pVED3RuRscWNnGk&locations=').concat(n.geometry.lat,",").concat(n.geometry.lng,"&zoom=14&defaultMarker=marker-end&type=").concat(localStorage.getItem("mapType")||"map","');\">\n    </div>"),main.appendChild(result);var t=document.createElement("div");t.classList.add("land-mark"),main.appendChild(t),a.forEach((function(n){var e=document.createElement("div");e.style.backgroundImage="url(".concat(n,")"),e.addEventListener("click",(function(){displayLarge(n,a)})),t.appendChild(e)}))},errorPage=function(n){notFound.classList.add("not-found"),notFound.innerHTML="<h1>".concat(n," Not Found!</h1>"),main.appendChild(notFound)},placeSearch=function(n){var e,a,t,o,i,c,s;return regeneratorRuntime.async((function(l){for(;;)switch(l.prev=l.next){case 0:return loader.classList.add("loader"),body.appendChild(loader),body.removeChild(main),body.removeChild(footer),messageDiv.innerHTML="",l.prev=5,l.next=8,regeneratorRuntime.awrap(fetch("https://api.opencagedata.com/geocode/v1/json?q=".concat(n,"&key=25538790e2f94fa1be1032d20c21e732&language=en&pretty=1&no_annotations=1")));case 8:return e=l.sent,l.next=11,regeneratorRuntime.awrap(fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(n,"&APPID=1e32355a85c5965bc24316c27175c6a7")));case 11:return a=l.sent,l.next=14,regeneratorRuntime.awrap(fetch("https://pixabay.com/api/?key=14281350-22ea61d1a8aab6d3cae824171&q=".concat(n,"&image_type=photo&category=places,buildings,travel")));case 14:return t=l.sent,l.next=17,regeneratorRuntime.awrap(e.json());case 17:return o=l.sent,l.next=20,regeneratorRuntime.awrap(a.json());case 20:return i=l.sent,l.next=23,regeneratorRuntime.awrap(t.json());case 23:c=l.sent,s=c.hits.map((function(n){return n.largeImageURL})),body.removeChild(loader),body.appendChild(main),body.appendChild(footer),input.value=n,resultPage(o.results[0],i,s),l.next=36;break;case 32:l.prev=32,l.t0=l.catch(5),input.value=n,errorPage(n);case 36:case"end":return l.stop()}}),null,null,[[5,32]])};